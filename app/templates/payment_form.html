{% extends 'base.html' %} {% block content %}
<h1 class="h4 mb-3">{{ 'Edit Payment' if payment else 'New Payment' }}</h1>
<form method="post" class="card card-body">
  <div class="row g-3">
    <div class="col-md-3">
      <label class="form-label">Amount</label>
      <input name="Amount" type="number" step="0.01" class="form-control" value="{{ payment.Amount if payment }}" required />
    </div>
    <div class="col-md-3">
      <label class="form-label">Method</label>
      <select name="PaymentMethod" class="form-select" required>
        {% for m in ['Cash','Credit Card','UPI','AppWallet'] %}
        <option value="{{ m }}" {{ 'selected' if payment and payment.PaymentMethod==m }}>{{ m }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-3">
      <label class="form-label">Status</label>
      <select name="TransactionStatus" class="form-select">
        {% for s in ['Success','Failed','Pending'] %}
        <option value="{{ s }}" {{ 'selected' if payment and payment.TransactionStatus==s }}>{{ s }}</option>
        {% endfor %}
      </select>
    </div>
    <div class="col-md-3">
      <label class="form-label">Ticket</label>
      <select name="TicketID" class="form-select" required>
        {% for t in tickets %}
        <option value="{{ t.TicketID }}" {{ 'selected' if payment and payment.TicketID==t.TicketID }}>
          #{{ t.TicketID }} - {{ t.LicensePlate }}
        </option>
        {% endfor %}
      </select>
    </div>
  </div>
  <div class="mt-3">
    <button class="btn btn-success">Save</button>
    <a href="/payments" class="btn btn-secondary">Cancel</a>
  </div>
</form>
{% endblock %}




